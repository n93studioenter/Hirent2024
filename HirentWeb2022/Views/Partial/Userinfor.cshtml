
<div class="from_register_container">
    <div class="from_register">
        @{ 
            var user = (HirentWeb2022.Models.tb_Customer)ViewBag.Info;
        }
        <div class="form_register_title">
            @(ViewBag.lang == "vi"? "Thông tin tài khoản" : "Account Info")
        </div>
        <form>
            <div class="form-group row">
                <label for="inputEmail3" class="col-sm-2 col-form-label">@(ViewBag.lang == "vi"? "Họ tên" : "Full name")</label>
                <div class="col-sm-10">
                    <input value="@user.CustomerID"  type="hidden" id="txtCustomerID"/>
                    <input type="text" value="@user.FirstName" class="form-control" id="txtFirstName" placeholder="@(ViewBag.lang == "vi"? "Họ tên" : "Full name")">
                </div>
            </div>
            <div class="form-group row">
                <label for="inputEmail3" class="col-sm-2 col-form-label">Email</label>
                <div class="col-sm-10">
                    <input type="email" class="form-control" value="@user.Email" id="txtEmail" placeholder="Email">
                </div>
            </div>

            <div class="form-group row">
                <label for="inputPassword3" class="col-sm-2 col-form-label"> @(ViewBag.lang == "vi"? "Điện thoại" : "Phone")</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="txtPhone" value="@user.Phone" placeholder="@(ViewBag.lang == "vi"? "Điện thoại" : "Phone")">
                </div>
            </div>
          
            <div class="form-group row">
                <label for="inputPassword3" class="col-sm-2 col-form-label"> @(ViewBag.lang == "vi"? "Ngày sinh" : "Birthday")</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" value="@(user.Birthday.HasValue? user.Birthday.Value.ToShortDateString():"")" id="txtBirthday" placeholder="@(ViewBag.lang == "vi"? "Ngày sinh" : "Birthday")">
                </div>
            </div>
            <div class="form-group row">
                <div class="col-sm-12 text-right">
                    <button onclick="updateInfo()" type="button" class="btn btn-primary">@(ViewBag.lang == "vi"? "Cập nhật" : "Update")</button>
                </div>
            </div>
        </form>
    </div>
</div>


<script>
    const updateInfo = () => {
        var param = {
            CustomerID: $("#txtCustomerID").val(),
            FirstName: $("#txtFirstName").val(),
            Email: $("#txtEmail").val(),
            Phone: $("#txtPhone").val(),
            Birthday: $("#txtBirthday").val()
        }
        $.ajax({
            url: '/Partial/UpdateUserInfo',
            type: "POST",
            dataType: 'html',
            data: param,
            success: function (data, status, xhr) {
                if (data === 'True') {
                     if ('@ViewBag.lang' === 'vi')
 {
                         showToast("Thông báo", "Cập nhật thành công!",1);
 }
 else
 {
       showToast("Message", "Update successful!", 1);
}
                    location.reload();
                }
            },
            error: function (xhr, status, error) {
                alert(status);
            }
        });
    }
    let selectGender = 1;
    function rad(id) {
        selectGender = id;
    }
</script>